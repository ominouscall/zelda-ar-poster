<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Twilight Surprise</title>

<style>
    @font-face {
        font-family: 'WiiRegular';
        src: url('fonts/WiiRegular.ttf') format('truetype');
    }
    @font-face {
        font-family: 'GCNBold';
        src: url('fonts/GCNBold.ttf') format('truetype');
    }

    body {
        margin: 0;
        overflow: hidden;
        background: black;
        font-family: 'WiiRegular', sans-serif;
    }

    /* â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    /* ğŸ”¥ VIDEO CONTAINER â€” ALTERADO */
    /* â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */

    #videoContainer {
        position: fixed;
        top: 0; left: 0;
        width: 100vw;
        height: 100vh;
        overflow: hidden;
        z-index: 1;
    }

    #backgroundVideo {
        position: absolute;
        width: 100%;
        height: 100%;
        object-fit: fill; /* Mantive exatamente como estava */
    }

    /* â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    /* ğŸ”¥ HITBOX FIXA AO VÃDEO â€” ALTERADO */
    /* â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */

    #linkHitbox {
        position: absolute;
        left: 42%;   /* ajuste se necessÃ¡rio */
        top: 63%;    /* ajuste se necessÃ¡rio */
        width: 12%;
        height: 20%;

        background: rgba(255, 0, 0, 0); /* invisÃ­vel â€” coloque rgba(255,0,0,0.4) p/ debug */
        display: none; /* sÃ³ aparece apÃ³s PRESS START */
        z-index: 10;
    }

    /* â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */

    #overlay {
        position: fixed;
        top: 0; left: 0;
        width: 100vw;
        height: 100vh;
        background: rgba(0,0,0,0.7);
        z-index: 5;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        text-align: center;
        padding: 20px;
    }

    #quote {
        color: white;
        font-size: 1.4rem;
        margin-bottom: 30px;
        max-width: 80%;
        text-shadow: 0 0 8px black;
    }

    #startButton {
        font-family: 'GCNBold';
        font-size: 2rem;
        color: white;
        border: 3px solid white;
        padding: 12px 28px;
        background: rgba(0,0,0,0.5);
        border-radius: 6px;
        letter-spacing: 2px;
    }

    #startButton:active {
        transform: scale(0.96);
    }

    /* Easter egg video */
    #easterEggVideo {
        position: fixed;
        top: 0; left: 0;
        width: 100vw;
        height: 100vh;
        z-index: 9999;
        display: none;
        background: black;
        object-fit: fill; /* conforme sua escolha */
    }

    .fadeOut {
        animation: fadeOut 1s forwards;
    }
    .fadeIn {
        animation: fadeIn 1s forwards;
    }
    @keyframes fadeOut {
        from { opacity: 1; }
        to { opacity: 0; }
    }
    @keyframes fadeIn {
        from { opacity: 0; }
        to { opacity: 1; }
    }
</style>
</head>

<body>

<!-- ğŸ”¥ NOVO CONTAINER DO VÃDEO (HITBOX DENTRO AQUI) -->
<div id="videoContainer">
    <video id="backgroundVideo" autoplay muted loop playsinline>
        <source src="video/background.mp4" type="video/mp4">
    </video>

    <div id="linkHitbox"></div> <!-- movido para dentro do container -->
</div>

<!-- Fade overlay + frases + botÃ£o -->
<div id="overlay">
    <div id="quote"></div>
    <button id="startButton">PRESS START</button>
</div>

<!-- VÃ­deo do Easter Egg -->
<video id="easterEggVideo" playsinline>
    <source src="easter-eggs/creepy-link-scene.mp4" type="video/mp4">
</video>

<audio id="bgMusic" src="audio/music.mp3"></audio>
<audio id="confirmSfx" src="audio/confirm.mp3"></audio>

<script>
    const quotes = [
        "â€œShadow and light are two sides of the same coin.â€",
        "â€œA sword wields no strength unless the hand that holds it has courage.â€",
        "â€œThe twilight there holds a serene beautyâ€¦ You have seen it yourself as the sun sets on this world.â€",
        "â€œIn the end, you must decide what to doâ€¦ The path is yours to follow.â€",
        "â€œCourage need not be remembered, for it is never forgotten.â€"
    ];

    const quoteBox = document.getElementById("quote");
    quoteBox.textContent = quotes[Math.floor(Math.random() * quotes.length)];

    const overlay = document.getElementById("overlay");
    const startButton = document.getElementById("startButton");
    const music = document.getElementById("bgMusic");
    const sfx = document.getElementById("confirmSfx");

    const linkHitbox = document.getElementById("linkHitbox");

    let clicks = 0;
    let clickTimeout;
    const EGG_CLICKS = 10;

    function fadeInMusic() {
        music.volume = 0;
        music.play();
        let vol = 0;
        const fadeInterval = setInterval(() => {
            vol += 0.02;
            if (vol >= 1) {
                vol = 1;
                clearInterval(fadeInterval);
            }
            music.volume = vol;
        }, 80);
    }

    startButton.addEventListener("click", () => {
        sfx.play();
        overlay.classList.add("fadeOut");

        setTimeout(() => {
            overlay.style.display = "none";
            fadeInMusic();
            linkHitbox.style.display = "block"; // Hitbox aparece depois
        }, 900);
    });

    linkHitbox.addEventListener("click", () => {
        clicks++;
        clearTimeout(clickTimeout);

        clickTimeout = setTimeout(() => {
            clicks = 0;
        }, 500);

        if (clicks >= EGG_CLICKS) {
            triggerEasterEgg();
        }
    });

    function triggerEasterEgg() {
        clicks = 0;

        const video = document.getElementById("easterEggVideo");

        music.pause();

        video.style.display = "block";
        video.classList.add("fadeIn");

        video.play();

        video.onended = () => {
            video.classList.remove("fadeIn");
            video.classList.add("fadeOut");

            setTimeout(() => {
                video.style.display = "none";
                video.classList.remove("fadeOut");
                fadeInMusic();
            }, 900);
        };
    }
</script>

</body>
</html>
